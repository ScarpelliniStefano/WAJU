{"remainingRequest":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\src\\components\\LinedVTextarea.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\src\\components\\LinedVTextarea.vue","mtime":1635151695411},{"path":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634653953403},{"path":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\babel-loader\\lib\\index.js","mtime":1634653954027},{"path":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634653953403},{"path":"C:\\Users\\stefa\\Desktop\\VueJS\\jcoui_web\\node_modules\\vue-loader\\lib\\index.js","mtime":1634653954200}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIubWF4LXNhZmUtaW50ZWdlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTGluZWRWVGV4dGFyZWEnLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnZhbHVlOwogICAgdGhpcy5zeW5jU2Nyb2xsKCk7CiAgICB0aGlzLmNhbGN1bGF0ZUNoYXJhY3RlcnNQZXJMaW5lKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29udGVudDogJycsCiAgICAgIHdpZHRoUGVyQ2hhcjogOCwKICAgICAgLy8gSGFyZCBjb2RlZCwgYWp1c3Qgd2hlbiBuZWNlc3NhcnkKICAgICAgbnVtUGVyTGluZTogMSwKICAgICAgcHJldmlvdXNXaWR0aDogMCwKICAgICAgc2Nyb2xsZWRMZW5ndGg6IDAKICAgIH07CiAgfSwKICBwcm9wczogewogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBub3dyYXA6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICBzdHlsZXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaGVpZ2h0OiAnMzAwcHgnCiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICB2YWxpZGF0ZTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbnZhbGlkTGluZXM6IGZ1bmN0aW9uIGludmFsaWRMaW5lcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBsaW5lTnVtYmVycyA9IFtdOwogICAgICB0aGlzLmNvbnRlbnQuc3BsaXQoJ1xuJykuZm9yRWFjaChmdW5jdGlvbiAobGluZSwgaW5kZXgpIHsKICAgICAgICBpZiAoIV90aGlzLnZhbGlkYXRlKGxpbmUpKSBsaW5lTnVtYmVycy5wdXNoKGluZGV4ICsgMSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGluZU51bWJlcnM7CiAgICB9LAogICAgbGluZXM6IGZ1bmN0aW9uIGxpbmVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmNvbnRlbnQgPT09ICcnKSByZXR1cm4gWzFdOwogICAgICB2YXIgbGluZU51bWJlcnMgPSBbXTsKICAgICAgdmFyIG51bSA9IDE7IC8vIE51bWJlciBvZiBsaW5lcyBleHRlbmRlZC4gU2VlbXMgdG8gd29yayB3aXRoIHByZS13cmFwIChoYXMgcHJvYmxlbSB3aXRoIGRhc2gpCgogICAgICBmdW5jdGlvbiBnZXRXcmFwVGltZXMoc2VudGVuY2UsIHdpZHRoKSB7CiAgICAgICAgaWYgKHdpZHRoIDw9IDApIHsKICAgICAgICAgIC8vIFByb3RlY3QgYWdhaW5zdCBpbmZpbml0ZSBsb29wCiAgICAgICAgICBjb25zb2xlLndhcm4oJ1BsZWFzZSBzZXQgdGhlIG1pbi13aWR0aCBvZiB0ZXh0YXJlYSB0byBhbGxvdyBhdCBsZWFzdCBvbmUgY2hhcmFjdGVyIHBlciBsaW5lLicpOwogICAgICAgICAgcmV0dXJuIHNlbnRlbmNlLmxlbmd0aCArIDE7IC8vIFNlZW1zIGJyb3dzZXIgd291bGQgYWRkIG9uZSBhZGRpdGlvbmFsIHNwYWNlCiAgICAgICAgfQoKICAgICAgICB2YXIgd29yZHMgPSBzZW50ZW5jZS5zcGxpdCgnICcpOwogICAgICAgIHZhciBjdXJyZW50TGluZSA9IDE7CiAgICAgICAgdmFyIHNwYWNlTGVmdCA9IHdpZHRoOwogICAgICAgIHdvcmRzLmZvckVhY2goZnVuY3Rpb24gKHdvcmQpIHsKICAgICAgICAgIHZhciBpc1dpZHRoID0gc3BhY2VMZWZ0ID09PSB3aWR0aDsKICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVubW9kaWZpZWQtbG9vcC1jb25kaXRpb24gKi8KCiAgICAgICAgICB3aGlsZSAoaXNXaWR0aCAmJiB3b3JkLmxlbmd0aCA+PSBzcGFjZUxlZnQpIHsKICAgICAgICAgICAgKytjdXJyZW50TGluZTsKICAgICAgICAgICAgd29yZCA9IHdvcmQuc2xpY2Uod2lkdGgpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzcGFjZUxlZnQgPT09IHdpZHRoKSB7CiAgICAgICAgICAgIHNwYWNlTGVmdCAtPSB3b3JkLmxlbmd0aDsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh3b3JkLmxlbmd0aCArIDEgPiBzcGFjZUxlZnQpIHsKICAgICAgICAgICAgKytjdXJyZW50TGluZTsKICAgICAgICAgICAgc3BhY2VMZWZ0ID0gd2lkdGg7CiAgICAgICAgICB9CgogICAgICAgICAgc3BhY2VMZWZ0IC09IGlzV2lkdGggPyB3b3JkLmxlbmd0aCA6IHdvcmQubGVuZ3RoICsgMTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gc3BhY2VMZWZ0ID09PSB3aWR0aCA/IGN1cnJlbnRMaW5lIC0gMSA6IGN1cnJlbnRMaW5lOwogICAgICB9CgogICAgICB0aGlzLmNvbnRlbnQuc3BsaXQoJ1xuJykuZm9yRWFjaChmdW5jdGlvbiAobGluZSkgewogICAgICAgIHZhciB3cmFwVGltZXMgPSBnZXRXcmFwVGltZXMobGluZSwgX3RoaXMyLm51bVBlckxpbmUpIC0gMTsKICAgICAgICBsaW5lTnVtYmVycy5wdXNoKG51bSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd3JhcFRpbWVzOyArK2kpIHsKICAgICAgICAgIGxpbmVOdW1iZXJzLnB1c2goJyZuYnNwOycpOwogICAgICAgIH0KCiAgICAgICAgKytudW07CiAgICAgIH0pOwogICAgICByZXR1cm4gbGluZU51bWJlcnM7CiAgICB9LAogICAgbG9uZ2VzdFdpZHRoOiBmdW5jdGlvbiBsb25nZXN0V2lkdGgoKSB7CiAgICAgIGZvciAodmFyIGkgPSB0aGlzLmxpbmVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgc2VjdXJpdHkvZGV0ZWN0LW9iamVjdC1pbmplY3Rpb24gKi8KICAgICAgICBpZiAodGhpcy5saW5lc1tpXSA9PT0gJyZuYnNwOycpIGNvbnRpbnVlOwogICAgICAgIHJldHVybiAodGhpcy5saW5lc1tpXSArICcnKS5sZW5ndGggKiB0aGlzLndpZHRoUGVyQ2hhciArIDEwOyAvLyAxMHB4IGJhc2UgcGFkZGluZy1yaWdodAoKICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIHNlY3VyaXR5L2RldGVjdC1vYmplY3QtaW5qZWN0aW9uICovCiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvLyBXaGVuIGxlZnQgYXJlYSBncm93cy9zaHJpbmtzIGUuZy4gOSA9PiAxMDsgMTAwID0+IDk5CiAgICBsb25nZXN0V2lkdGg6IGZ1bmN0aW9uIGxvbmdlc3RXaWR0aCh2YWwsIG9sZFZhbCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh2YWwgIT09IG9sZFZhbCkgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpczMuY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmUoKTsKICAgICAgfSk7CiAgICB9LAogICAgbm93cmFwOiBmdW5jdGlvbiBub3dyYXAoKSB7CiAgICAgIHRoaXMuY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmUoKTsKICAgIH0sCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIGlmICh2YWwgIT09IHRoaXMuY29udGVudCkgdGhpcy5jb250ZW50ID0gdmFsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmU6IGZ1bmN0aW9uIGNhbGN1bGF0ZUNoYXJhY3RlcnNQZXJMaW5lKCkgewogICAgICAvLyBNYXkgYmUgKy0xIG9mZiByZWFsIHZhbHVlID5fPAogICAgICBpZiAodGhpcy5ub3dyYXApIHsKICAgICAgICB0aGlzLm51bVBlckxpbmUgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0ZXh0YXJlYSA9IHRoaXMuJHJlZnMudGV4dGFyZWE7CiAgICAgIHZhciBzdHlsZXMgPSBnZXRDb21wdXRlZFN0eWxlKHRleHRhcmVhKTsKICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1sZWZ0JykpOwogICAgICB2YXIgcGFkZGluZ1JpZ2h0ID0gcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy1yaWdodCcpKTsKICAgICAgdmFyIGZvbnRTaXplID0gc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ2ZvbnQtc2l6ZScpOwogICAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlcy5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LWZhbWlseScpOwogICAgICB2YXIgd2lkdGggPSB0ZXh0YXJlYS5jbGllbnRXaWR0aCAtIHBhZGRpbmdMZWZ0IC0gcGFkZGluZ1JpZ2h0OwogICAgICB2YXIgaGVscGVyID0gdGhpcy4kcmVmcy5oZWxwZXI7CiAgICAgIGhlbHBlci5zdHlsZS5mb250U2l6ZSA9IGZvbnRTaXplOwogICAgICBoZWxwZXIuc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7CiAgICAgIGhlbHBlci5pbm5lckhUTUwgPSAnJzsKCiAgICAgIGZvciAodmFyIG51bSA9IDE7IG51bSA8IDk5OTsgKytudW0pIHsKICAgICAgICBoZWxwZXIuaW5uZXJIVE1MICs9ICdhJzsKCiAgICAgICAgaWYgKGhlbHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA+IHdpZHRoKSB7CiAgICAgICAgICB0aGlzLm51bVBlckxpbmUgPSBudW0gLSAxOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZGV0ZWN0UmVzaXplOiBmdW5jdGlvbiBkZXRlY3RSZXNpemUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIHRleHRhcmVhID0gdGhpcy4kcmVmcy50ZXh0YXJlYTsKICAgICAgdmFyIHcxID0gdGV4dGFyZWEuY2xpZW50V2lkdGgsCiAgICAgICAgICBoMSA9IHRleHRhcmVhLmNsaWVudEhlaWdodDsKCiAgICAgIHZhciBkZXRlY3QgPSBmdW5jdGlvbiBkZXRlY3QoKSB7CiAgICAgICAgdmFyIHcyID0gdGV4dGFyZWEuY2xpZW50V2lkdGgsCiAgICAgICAgICAgIGgyID0gdGV4dGFyZWEuY2xpZW50SGVpZ2h0OwogICAgICAgIGlmICh3MSAhPT0gdzIgfHwgaDEgIT09IGgyKSBfdGhpczQuY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmUoKTsKICAgICAgfTsKCiAgICAgIHZhciBzdG9wID0gZnVuY3Rpb24gc3RvcCgpIHsKICAgICAgICBfdGhpczQuY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmUoKTsKCiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZGV0ZWN0KTsKICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcCk7CiAgICAgIH07CgogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBkZXRlY3QpOwogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RvcCk7CiAgICB9LAogICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dCgpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLmNvbnRlbnQpOwogICAgICB0aGlzLnJlY2FsY3VsYXRlKCk7CiAgICB9LAogICAgcmVjYWxjdWxhdGU6IGZ1bmN0aW9uIHJlY2FsY3VsYXRlKCkgewogICAgICB2YXIgdGV4dGFyZWEgPSB0aGlzLiRyZWZzLnRleHRhcmVhOwogICAgICB2YXIgd2lkdGggPSB0ZXh0YXJlYS5jbGllbnRXaWR0aDsKICAgICAgaWYgKHdpZHRoICE9PSB0aGlzLnByZXZpb3VzV2lkdGgpIHRoaXMuY2FsY3VsYXRlQ2hhcmFjdGVyc1BlckxpbmUoKTsKICAgICAgdGhpcy5wcmV2aW91c1dpZHRoID0gd2lkdGg7CiAgICB9LAogICAgc2Nyb2xsTGluZXM6IGZ1bmN0aW9uIHNjcm9sbExpbmVzKGUpIHsKICAgICAgdGhpcy5zY3JvbGxlZExlbmd0aCA9IGUudGFyZ2V0LnNjcm9sbFRvcDsKICAgICAgdGhpcy5zeW5jU2Nyb2xsKCk7CiAgICB9LAogICAgc3luY1Njcm9sbDogZnVuY3Rpb24gc3luY1Njcm9sbCgpIHsKICAgICAgdGhpcy4kcmVmcy5saW5lcy5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlWSgiLmNvbmNhdCgtdGhpcy5zY3JvbGxlZExlbmd0aCwgInB4KSIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["LinedVTextarea.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"lined-textarea\">\r\n    <div class=\"lined-textarea__lines\"\r\n      v-if=\"!disabled\"\r\n      :style=\"{ 'padding-right': `${longestWidth}px` }\"\r\n    >\r\n      <div class=\"lined-textarea__lines__inner\"\r\n        ref=\"lines\"\r\n      >\r\n        <p v-for=\"(line, index) in lines\"\r\n          :key=\"index\"\r\n          class=\"lined-textarea__lines__line\"\r\n          :class=\"{ 'lined-textarea__lines__line--invalid': invalidLines.includes(line) }\"\r\n          v-html=\"line\"\r\n        ></p>\r\n      </div>\r\n    </div>\r\n    <textarea :disabled=\"disabled\"\r\n      :placeholder=\"placeholder\"\r\n      class=\"lined-textarea__content\"\r\n      :class=\"{ 'lined-textarea__content--disabled': disabled,\r\n              'lined-textarea__content--wrap': !nowrap,\r\n              'lined-textarea__content--nowrap': nowrap }\"\r\n      v-model=\"content\"\r\n      v-on:scroll=\"scrollLines\"\r\n      v-on:input=\"onInput\"\r\n      v-on:mousedown=\"detectResize\"\r\n      :style=\"styles\"\r\n      ref=\"textarea\"\r\n    ></textarea>\r\n    <div class=\"count-helper\" ref=\"helper\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LinedVTextarea',\r\n  mounted () {\r\n    this.content = this.value\r\n    this.syncScroll()\r\n    this.calculateCharactersPerLine()\r\n  },\r\n  data () {\r\n    return {\r\n      content: '',\r\n      widthPerChar: 8, // Hard coded, ajust when necessary\r\n      numPerLine: 1,\r\n      previousWidth: 0,\r\n      scrolledLength: 0\r\n    }\r\n  },\r\n  props: {\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    nowrap: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    styles: {\r\n      type: Object,\r\n      default () {\r\n        return {\r\n          height: '300px'\r\n        }\r\n      }\r\n    },\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    validate: {\r\n      type: Function,\r\n      default: () => true\r\n    }\r\n  },\r\n  computed: {\r\n    invalidLines () {\r\n      const lineNumbers = []\r\n      this.content.split('\\n').forEach((line, index) => {\r\n        if (!this.validate(line)) lineNumbers.push(index + 1)\r\n      })\r\n      return lineNumbers\r\n    },\r\n    lines () {\r\n      if (this.content === '') return [1]\r\n      const lineNumbers = []\r\n      let num = 1\r\n      // Number of lines extended. Seems to work with pre-wrap (has problem with dash)\r\n      function getWrapTimes (sentence, width) {\r\n        if (width <= 0) {\r\n          // Protect against infinite loop\r\n          console.warn('Please set the min-width of textarea to allow at least one character per line.')\r\n          return sentence.length + 1 // Seems browser would add one additional space\r\n        }\r\n        const words = sentence.split(' ')\r\n        let currentLine = 1\r\n        let spaceLeft = width\r\n        words.forEach((word) => {\r\n          let isWidth = spaceLeft === width\r\n          /* eslint-disable no-unmodified-loop-condition */\r\n          while (isWidth && word.length >= spaceLeft) {\r\n            ++currentLine\r\n            word = word.slice(width)\r\n          }\r\n          if (spaceLeft === width) {\r\n            spaceLeft -= word.length\r\n            return\r\n          }\r\n          if (word.length + 1 > spaceLeft) {\r\n            ++currentLine\r\n            spaceLeft = width\r\n          }\r\n          spaceLeft -= isWidth ? word.length : word.length + 1\r\n        })\r\n        return (spaceLeft === width) ? currentLine - 1 : currentLine\r\n      }\r\n      this.content.split('\\n').forEach((line) => {\r\n        const wrapTimes = getWrapTimes(line, this.numPerLine) - 1\r\n        lineNumbers.push(num)\r\n        for (let i = 0; i < wrapTimes; ++i) lineNumbers.push('&nbsp;')\r\n        ++num\r\n      })\r\n      return lineNumbers\r\n    },\r\n    longestWidth () {\r\n      for (let i = this.lines.length - 1; i >= 0; --i) {\r\n        /* eslint-disable security/detect-object-injection */\r\n        if (this.lines[i] === '&nbsp;') continue\r\n        return (this.lines[i] + '').length * this.widthPerChar + 10 // 10px base padding-right\r\n        /* eslint-enable security/detect-object-injection */\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    // When left area grows/shrinks e.g. 9 => 10; 100 => 99\r\n    longestWidth (val, oldVal) {\r\n      if (val !== oldVal) this.$nextTick(() => this.calculateCharactersPerLine())\r\n    },\r\n    nowrap () {\r\n      this.calculateCharactersPerLine()\r\n    },\r\n    value (val) {\r\n      if (val !== this.content) this.content = val\r\n    }\r\n  },\r\n  methods: {\r\n    calculateCharactersPerLine () { // May be +-1 off real value >_<\r\n      if (this.nowrap) {\r\n        this.numPerLine = Number.MAX_SAFE_INTEGER\r\n        return\r\n      }\r\n      const textarea = this.$refs.textarea\r\n      const styles = getComputedStyle(textarea)\r\n      const paddingLeft = parseFloat(styles.getPropertyValue('padding-left'))\r\n      const paddingRight = parseFloat(styles.getPropertyValue('padding-right'))\r\n      const fontSize = styles.getPropertyValue('font-size')\r\n      const fontFamily = styles.getPropertyValue('font-family')\r\n      const width = textarea.clientWidth - paddingLeft - paddingRight\r\n      const helper = this.$refs.helper\r\n      helper.style.fontSize = fontSize\r\n      helper.style.fontFamily = fontFamily\r\n      helper.innerHTML = ''\r\n      for (let num = 1; num < 999; ++num) {\r\n        helper.innerHTML += 'a'\r\n        if (helper.getBoundingClientRect().width > width) {\r\n          this.numPerLine = num - 1\r\n          break\r\n        }\r\n      }\r\n    },\r\n    detectResize () {\r\n      const textarea = this.$refs.textarea\r\n      const { clientWidth: w1, clientHeight: h1 } = textarea\r\n      const detect = () => {\r\n        const { clientWidth: w2, clientHeight: h2 } = textarea\r\n        if (w1 !== w2 || h1 !== h2) this.calculateCharactersPerLine()\r\n      }\r\n      const stop = () => {\r\n        this.calculateCharactersPerLine()\r\n        document.removeEventListener('mousemove', detect)\r\n        document.removeEventListener('mouseup', stop)\r\n      }\r\n      document.addEventListener('mousemove', detect)\r\n      document.addEventListener('mouseup', stop)\r\n    },\r\n    onInput () {\r\n      this.$emit('input', this.content)\r\n      this.recalculate()\r\n    },\r\n    recalculate () {\r\n      const textarea = this.$refs.textarea\r\n      const width = textarea.clientWidth\r\n      if (width !== this.previousWidth) this.calculateCharactersPerLine()\r\n      this.previousWidth = width\r\n    },\r\n    scrollLines (e) {\r\n      this.scrolledLength = e.target.scrollTop\r\n      this.syncScroll()\r\n    },\r\n    syncScroll () {\r\n      this.$refs.lines.style.transform = `translateY(${-this.scrolledLength}px)`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.lined-textarea {\r\n  display: flex;\r\n  font-size: 13px;\r\n  line-height: 150%;\r\n  font-family: Helvetica, monospace;\r\n}\r\n\r\n.lined-textarea__lines {\r\n  background-color: #F0F0F0;\r\n  border: 1px solid #D7E2ED;\r\n  border-radius: 10px 0 0 10px;\r\n  border-right-width: 0;\r\n  padding: 15px 10px 15px 15px;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.lined-textarea__lines__inner {\r\n  position: absolute;\r\n}\r\n\r\n.lined-textarea__lines__line {\r\n  text-align: right;\r\n}\r\n\r\n.lined-textarea__lines__line--invalid {\r\n  font-weight: bold;\r\n  color: red;\r\n}\r\n.lined-textarea__content {\r\n  border: 1px solid #D7E2ED;\r\n  border-radius: 0 10px 10px 0;\r\n  border-left-width: 0;\r\n  margin: 0;\r\n  line-height: inherit;\r\n  font-family: monospace;\r\n  padding: 15px;\r\n  width: 100%;\r\n  overflow: auto;\r\n}\r\n\r\n.lined-textarea__content--wrap {\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.lined-textarea__content--nowrap {\r\n  white-space: pre;\r\n}\r\n\r\n@supports (-ms-ime-align:auto) {\r\n  .lined-textarea__content--nowrap {\r\n      white-space: nowrap;\r\n  }\r\n}\r\n\r\n.lined-textarea__content--disabled {\r\n  border-radius: 10px;\r\n  border-left-width: 1px;\r\n}\r\n\r\n.lined-textarea__content:focus {\r\n  outline: none;\r\n}\r\n\r\n.count-helper {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  height: auto;\r\n  width: auto;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}